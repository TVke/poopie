!function(){const e=function(){const e=this;return e.data,e.subs=[],e.methods={publish:function(t){if(void 0===t)return e.data;e.data=t;for(let t=0,i=e.subs.length;t<i;++t)e.subs[t](e.data)},subscribe:function(t){-1===e.subs.indexOf(t)&&e.subs.push(t)},unsubscribe:function(t){-1!==e.subs.indexOf(t)&&e.subs.splice(e.subs.indexOf(t),1)}},e.methods},t=(document.getElementById("field"),document.getElementById("diaper-base"),document.getElementById("diaper-cover"),document.getElementById("mine"),document.getElementById("flag"),document.querySelectorAll("[data-level]")),i={selectedLevel:new e,fieldSizeOptions:{easy:{x:8,y:8},medium:{x:10,y:10},expert:{x:16,y:16}},mineAmountOptions:{easy:10,medium:20,expert:40},field:[]},n={fieldSetup:function(t){i.field=new Array(i.fieldSizeOptions[t].y);for(let n=0;n<i.fieldSizeOptions[t].y;n++){i.field[n]=new Array(i.fieldSizeOptions[t].x);for(let d=0;d<i.fieldSizeOptions[t].x;d++)i.field[n][d]=new e}},init:function(){i.selectedLevel.subscribe((function(e){i.field=[],n.fieldSetup(e)})),[...t].forEach((e=>{e.addEventListener("click",(function(){i.selectedLevel.publish(e.dataset.level)}))}))}};n.init()}();